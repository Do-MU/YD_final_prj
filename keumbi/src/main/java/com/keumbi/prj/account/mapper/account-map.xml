<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.keumbi.prj.account.mapper.AccountMapper">
	
	<select id="selectfirstAccount" resultType="AccountVO">
		SELECT	*
		FROM 	ACCOUNTS
		WHERE	USER_ID = #{user_id}
	</select>
	
	<select id="selectAllAccount" resultType="AccountVO">
		SELECT	*
		FROM 	ACCOUNTS
		WHERE	USER_ID = #{user_id}
	</select>
	
	<select id="selectAccount" parameterType="AccountVO" resultType="Integer">
		SELECT	COUNT(*)
		FROM 	ACCOUNTS
		WHERE	FINTECH_USE_NUM = #{fintech_use_num}
	</select>
	
	<select id="selectOneAccount" parameterType="AccountVO" resultType="AccountVO">
		SELECT 	*
		FROM 	ACCOUNTS
		WHERE 	FINTECH_USE_NUM = #{fintech_use_num}
	</select>
	
	<insert id="insertAccount" parameterType="AccountVO">
		INSERT INTO ACCOUNTS ( FINTECH_USE_NUM, USER_ID, ACCOUNT_NUM_MASKED, ACCOUNT_ALIAS, BANK_CODE_STD, BANK_NAME, BALANCE_AMT )
		VALUES ( #{fintech_use_num}, #{user_id}, #{account_num_masked}, #{account_alias}, #{bank_code_std}, #{bank_name}, #{balance_amt} )
	</insert>
	
	<update id="updateBalance" parameterType="AccountVO">
		UPDATE 	ACCOUNTS
		SET 	BALANCE_AMT = #{balance_amt}, PRODUCT_NAME = #{product_name}
		WHERE	FINTECH_USE_NUM = #{fintech_use_num}
	</update>
  
</mapper>